<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>QR Code Generator</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			text-align: center;
			margin: 20px;
			background-color: #1e1e1e;
			color: #fff;
		}

		#qrcode {
			margin-top: 20px;
		}

		input,
		button {
			padding: 10px;
			font-size: 16px;
		}

		.qrcode-container {
			justify-items: center;
		}

		#download {
			display: none;
			/* Hidden by default */
			border: 5px solid;
			border-image: conic-gradient(from var(--angle), red, yellow, lime, aqua, blue, magenta, red) 1;
			animation: 1s rotate linear infinite;
		}

		@keyframes rotate {
			to {
				--angle: 360deg;
			}
		}

		@property --angle {
			syntax: '<angle>';
			initial-value: 0deg;
			inherits: false;
		}
	</style>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body>
	<h2>QR Code Generator</h2>
	<input type="text" id="text" placeholder="Enter text or URL">
	<button onclick="generateQR()">Generate</button>
	<br>
	<div id="qrcode" class="qrcode-container"></div>
	<br>
	<a id="download" download="qrcode.png">
		<button>Download</button>
	</a>

	<script>
		function generateQR() {
			let text = document.getElementById("text").value;
			let qrContainer = document.getElementById("qrcode");
			let downloadBtn = document.getElementById("download");

			qrContainer.innerHTML = ""; // Clear previous QR code
			downloadBtn.style.display = "none"; // Hide download button initially

			if (text.trim() !== "") {
				let qr = new QRCode(qrContainer, {
					text: text,
					width: 400,
					height: 400
				});

				// Wait for QR code to generate, then enable download
				setTimeout(() => {
					let qrCanvas = qrContainer.querySelector("canvas");
					if (qrCanvas) {
						let qrImage = qrCanvas.toDataURL("image/png");
						downloadBtn.href = qrImage;
						downloadBtn.style.display = "inline-block"; // Show download button
					}
				}, 300);
			}
		}
	</script>
</body>

</html>